# Use python and install nox
name: nox-python
author: Joseph Burling
description: "Use a specific python version and install nox via pip."

inputs:
  py_ver:
    description: "which python version to use, e.g., '3.9'"
    required: false
    default: "3.9"

runs:
  using: composite
  steps:
    - id: use-python-version
      uses: actions/setup-python@v3
      with:
        python-version: ${{ inputs.py_ver }}
        cache: "pip"

    - id: install-nox
      shell: bash
      run: |
        python -m pip install --upgrade pip
        pip install nox

outputs:
  python-version:
    description: "The installed python version. Useful when given a version range as input."
    value: ${{ steps.use-python-version.outputs.python-version }}

branding:
  icon: "aperture"
  color: "blue"
